TestSuite(
  Name("Statements")
, Sort("BlockStm")
, Tests(
  [ Test(Descr("simple assignment")
    , String("x = 1;"), Expr(Assign(ExprName(Id("x")), Lit(Deci("1"))))
    )
  , Test(Descr("Another stupid comment"), String("foo( );"), Success())
  , Test(Descr("final declaration")
    , String("final int x = 1;"), Success()
    )
  , Test(Descr("dangling else and while"), File("statements/dangling-else-while.java")
    , If(ExprName(Id("a")),
        While(ExprName(Id("b")),
          If(ExprName(Id("c")),
            Expr(Assign(ExprName(Id("c")),Lit(Deci("1"))))
          , Expr(Assign(ExprName(Id("d")),Lit(Deci("2")))))))
    )
  , Test(Descr("dangling else and for"), File("statements/dangling-else-for.java")
    , If(ExprName(Id("a")),
        For(None(), None(),  None(), 
          If(ExprName(Id("c")),
            Expr(Assign(ExprName(Id("c")),Lit(Deci("1"))))
          , Expr(Assign(ExprName(Id("d")),Lit(Deci("2")))))))
    )
  , Test(Descr("dangling else and label"), File("statements/dangling-else-labeled.java")
    , If(ExprName(Id("a")),
        Labeled(Id("label"), 
          If(ExprName(Id("c")),
            Expr(Assign(ExprName(Id("c")),Lit(Deci("1"))))
          , Expr(Assign(ExprName(Id("d")),Lit(Deci("2")))))))
    )
  , Test(Descr("while in then branch of if"), File("statements/if-while-else.java")
    , If(ExprName(Id("a"))
      , While(ExprName(Id("b")), Expr(Assign(ExprName(Id("c")),Lit(Deci("2")))))
      , Expr(Assign(ExprName(Id("d")),Lit(Deci("2"))))))
  , Test(Descr("Assignment amb 1"), String("x = 5;"), Success())
  , Test(Descr("Assignment amb 2"), String("x = y.z;"), Success())
  , Test(Descr("Array subscript assignment amb 1"), String("buf[x] = digits[y];"), Success())
  , Test(Descr("Array subscript assigmnemt amb 2"), String("buf[charPos--] = digits[-(i % radix)];"), Success())
  , Test(Descr("Comment in call"), String("throw new InternalError(/*\"Fatal flaw in getProxyClass\"*/);"), Success())
  , Test(Descr("Another stupid comment"), String("try{ foo(); } catch(Exception e) {/* foo */}"), Success())
  ])
)