CompilationUnit(Some(PackageDec([],PackageName([Id("nuthatch"),Id("benchmark")]))),[],[ClassDec(ClassDecHead([Public,Abstract],Id("Benchmark"),None,None,Some(ImplementsDec([InterfaceType(TypeName(Id("Runnable")),None)]))),ClassBody([FieldDec([Public,Static,Final],Int,[VarDec(Id("N"),Lit(Deci("1000")))]),FieldDec([Private],ClassOrInterfaceType(TypeName(Id("String")),None),[VarDec(Id("name"))]),FieldDec([Private],Int,[VarDec(Id("n"))]),FieldDec([Private],ClassOrInterfaceType(TypeName(Id("String")),None),[VarDec(Id("variant"))]),ConstrDec(ConstrDecHead([Public],None,Id("Benchmark"),[Param([],ClassOrInterfaceType(TypeName(Id("String")),None),Id("name")),Param([],ClassOrInterfaceType(TypeName(Id("String")),None),Id("variant"))],None),ConstrBody(Some(AltConstrInv(None,[ExprName(Id("name")),ExprName(Id("N")),ExprName(Id("variant"))])),[])),ConstrDec(ConstrDecHead([Public],None,Id("Benchmark"),[Param([],ClassOrInterfaceType(TypeName(Id("String")),None),Id("name")),Param([],Int,Id("n")),Param([],ClassOrInterfaceType(TypeName(Id("String")),None),Id("variant"))],None),ConstrBody(None,[ExprStm(Assign(Field(This,Id("name")),ExprName(Id("name")))),ExprStm(Assign(Field(This,Id("n")),ExprName(Id("n")))),ExprStm(Assign(Field(This,Id("variant")),ExprName(Id("variant"))))])),MethodDec(MethodDecHead([Protected,Abstract],None,Void,Id("doIt"),[],None),NoMethodBody),MethodDec(MethodDecHead([Protected,Abstract],None,Boolean,Id("check"),[],None),NoMethodBody),MethodDec(MethodDecHead([MarkerAnno(TypeName(Id("Override"))),Public],None,Void,Id("run"),[],None),Block([LocalVarDecStm(LocalVarDec([],Long,[VarDec(Id("t"),Invoke(Method(MethodName(AmbName(Id("System")),Id("currentTimeMillis"))),[]))])),For(LocalVarDec([],Int,[VarDec(Id("i"),Lit(Deci("0")))]),Some(Lt(ExprName(Id("i")),ExprName(Id("n")))),[PostIncr(ExprName(Id("i")))],Block([ExprStm(Invoke(Method(MethodName(Id("doIt"))),[]))])),ExprStm(Assign(ExprName(Id("t")),Minus(Invoke(Method(MethodName(AmbName(Id("System")),Id("currentTimeMillis"))),[]),ExprName(Id("t"))))),ExprStm(Invoke(Method(MethodName(AmbName(AmbName(Id("System")),Id("out")),Id("printf"))),[Lit(String([Chars("%-15s %s: %dms, %d iterations, %.0fÂµs per iteration%n")])),ExprName(Id("name")),ExprName(Id("variant")),ExprName(Id("t")),ExprName(Id("n")),Div(Mul(Lit(Float("1000.0")),ExprName(Id("t"))),ExprName(Id("n")))])),If(Not(Invoke(Method(MethodName(Id("check"))),[])),Block([ExprStm(Invoke(Method(MethodName(AmbName(AmbName(Id("System")),Id("out")),Id("println"))),[Lit(String([Chars("  WARNING: check failed")]))]))]))]))]))])
